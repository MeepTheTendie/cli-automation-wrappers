#!/bin/bash

# OpenCode Quick Launcher - Simple version

CONFIG_DIR="$HOME/.config/opencode"

echo "ğŸš€ OpenCode - Starting with context..."
echo "====================================="

# Change to config directory
cd "$CONFIG_DIR" || exit 1

# Check if session context exists and run appropriate startup
if [[ -f "SESSION_CONTEXT_COMPLETE.md" ]]; then
    echo "âœ… Previous context found - Loading..."
    echo ""
    echo "ğŸ“Š Quick Status:"
    echo "   Projects: iron-tracker, toku-tracker"
    echo "   Stack: Node.js + TanStack + Vite"
    echo ""
    echo "ğŸ¯ Ready Commands:"
    echo "   ./master-automation.sh     # Full automation"
    echo "   node deployment-manager.js monitor"
    echo ""
    
    # Run the session loader (text version)
    if [[ -f ".opencode-init" ]]; then
        source .opencode-init
    fi
    
else
    echo "â„¹ï¸  First-time setup detected"
    echo "ğŸ’¡ Run automation once, then this will be available"
fi

echo ""
echo "ğŸ¯ Working from: $(pwd)"
echo "âœ… OpenCode ready!"