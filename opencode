#!/bin/bash

# OpenCode Universal Launcher - Place this in your PATH
# Use from: ~/cli-automation-wrappers/opencode

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
CONFIG_DIR="$HOME/.config/opencode"

echo "ðŸš€ OpenCode - Initializing..."
echo "================================"

# Change to script directory (not config directory)
cd "$SCRIPT_DIR" || {
    echo "âŒ Cannot access script directory: $SCRIPT_DIR"
    exit 1
}

# Check if opencode-session exists and run it
if [[ -f "opencode-session" ]]; then
    echo "ðŸŽ¯ Starting OpenCode with full context..."
    exec ./opencode-session
else
    echo "âš ï¸  Session script not found"
    echo "ðŸ“ Available scripts:"
    ls -la *.js *.sh 2>/dev/null | head -10
fi