#!/bin/bash

# OpenCode Session Launcher
# Use this to start OpenCode with full context

echo "üöÄ Starting OpenCode with Context Loader..."
echo "============================================"

# Set environment variable
export OPENCODE_SESSION=true
export OPENCODE_CONFIG_DIR="$HOME/.config/opencode"

# Change to config directory
cd "$OPENCODE_CONFIG_DIR"

# Run the startup script
if [[ -f "startup.js" ]]; then
    node startup.js
else
    echo "‚ö†Ô∏è  Startup script not found. Loading context manually..."
    if [[ -f ".opencode-init" ]]; then
        source ".opencode-init"
    else
        echo "‚ÑπÔ∏è  No context files available"
    fi
fi

echo ""
echo "‚úÖ OpenCode session ready!"
echo "üí° Type 'help' for available commands"
echo "üìÅ Working from: $(pwd)"